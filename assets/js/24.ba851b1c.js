(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{311:function(e,n,t){"use strict";t.r(n);var a=t(9),s=Object(a.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"云开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#云开发","aria-hidden":"true"}},[e._v("#")]),e._v(" 云开发")]),e._v(" "),t("p",[e._v("云开发是基于小程序的一种新式后台开发，可使前端人员快速实现小程序开发。"),t("br"),e._v("\n最近在使用云开发，略有收获，故在此记录一下。")]),e._v(" "),t("h2",{attrs:{id:"调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调试","aria-hidden":"true"}},[e._v("#")]),e._v(" 调试")]),e._v(" "),t("p",[e._v("云开发主要基于wx-server-sdk这个npm模块,开发时分为2种，一种提交代码至云端，第二种本地调试。")]),e._v(" "),t("blockquote",[t("p",[e._v("本地调试需要安装响应的npm依赖，依赖安装位置基于每一个云函数文件夹内，即存在package.json文件的文件夹内，可以把每一个云函数看做独立的项目。")])]),e._v(" "),t("h2",{attrs:{id:"初始化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化","aria-hidden":"true"}},[e._v("#")]),e._v(" 初始化")]),e._v(" "),t("p",[e._v("云开发使用相应API,必须先初始化，即调用init函数")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("wx.cloud.init({\n  env: 'development-x1dzi' // 初始化需注意这里的env需与云开发的环境ID保持一致\n})\n")])])]),t("blockquote",[t("p",[e._v("环境ID可以原生开发工具-云开发-窗口的右上角-当前环境:"),t("code",[e._v("development")]),e._v("(个人设置名)，点击后可以看到环境ID")])]),e._v(" "),t("h2",{attrs:{id:"usage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#usage","aria-hidden":"true"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/**\n * Server\n **/\nconst cloud = require('wx-server-sdk')\n\n// 初始化 cloud\ncloud.init({\n  env: \"development\"\n})\n\nexports.main = (event, context) => {\n   return {\n    sum: event.a + event.b\n  }\n}\n\n/**\n * Web\n **/\n wx.cloud.callFunction({\n  // 云函数名称\n  name: 'add',\n  // 传给云函数的参数\n  data: {\n    a: 1,\n    b: 2,\n  },\n  success: function(res) {\n    console.log(res.result.sum) // 3\n  },\n  fail: console.error\n})\n")])])]),t("Valine")],1)}),[],!1,null,null,null);n.default=s.exports}}]);