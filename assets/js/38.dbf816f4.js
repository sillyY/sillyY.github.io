(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{323:function(a,t,e){"use strict";e.r(t);var s=e(9),l=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"神奇的js骚操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#神奇的js骚操作","aria-hidden":"true"}},[a._v("#")]),a._v(" 神奇的JS骚操作")]),a._v(" "),e("ol",[e("li",[a._v("使用左移运算符 "),e("code",[a._v("<<")]),a._v(" 迅速得出2的次方")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("1 << 2 // 4\n2 << 10 // 1024\n\n// 使用场景\na = 2e9;   // 2000000000\na << 1;    // -294967296\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[a._v("私用 "),e("code",[a._v("^")]),a._v(" 切换变量0或1")])]),a._v(" "),e("blockquote",[e("p",[a._v("^=是异或运算，相同取0，不同取1.")])]),a._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",[a._v("3^4 = 7"),e("br"),a._v('\n十进制转二进制: parseInt(3).toString(2) => "011", parseInt(4).toString(2) => "100"'),e("br"),a._v("\n0 1 1"),e("br"),a._v("\n1 0 0"),e("br"),a._v("\n1 1 1"),e("br"),a._v("\n二进制转十进制: parseInt(111, 2) => 7")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("// --- before ---\n// if\nif(toggle) {\n    toggle = 0\n}else {\n    toggle = 1\n}\n\n// 三目运算符\ntoggle = toggle ? 0 : 1\n\n// --- after ---\ntoggle ^= 1\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[a._v("使用 "),e("code",[a._v("&")]),a._v(" 判断奇偶性")])]),a._v(" "),e("blockquote",[e("p",[a._v("偶数&1 = 0\n奇数&1 = 1")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("console.log(7&1);  // 1\nconsole.log(8&1); // 0\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[a._v("使用 "),e("code",[a._v("!!")]),a._v(" 将数字转为布尔值")])]),a._v(" "),e("div",{staticClass:"danger custom-block"},[e("p",[a._v("下面6种值转化为布尔值时为false，其他转化都为true")]),a._v(" "),e("ul",[e("li",[a._v("undefined（未定义，找不到值时出现）")]),a._v(" "),e("li",[a._v("null（代表空值）")]),a._v(" "),e("li",[a._v('false（布尔值的false，字符串"false"布尔值为true）')]),a._v(" "),e("li",[a._v('0（数字0，字符串"0"布尔值为true）')]),a._v(" "),e("li",[a._v('NaN（无法计算结果时出现，表示"非数值"；但是typeof NaN==="number"）')]),a._v(" "),e("li",[a._v("\"\"（双引号）或''（单引号） （空字符串，中间有空格时也是true）")])])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("console.log(!!7) // true\nconsole.log(!!0) // false\nconsole.log(!!-1) // true\nconsole.log(!!0.71) // true\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[a._v("使用 "),e("code",[a._v("~~")]),a._v("、"),e("code",[a._v(">> 0")]),a._v("、"),e("code",[a._v("<< 0")]),a._v("、"),e("code",[a._v(">>> 0")]),a._v("、"),e("code",[a._v("| 0")]),a._v("来取整\n相当于 使用了Math.floor()")])]),a._v(" "),e("blockquote",[e("p",[a._v("注意>>>不可对负数取整")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("console.log(~~11.71) // 11\nconsole.log(11.71 >> 0) // 11\nconsole.log(11.71 << 0) // 11\nconsole.log(11.71 | 0) // 11\nconsole.log(11.71 >>> 0) // 11\n")])])]),e("ol",{attrs:{start:"6"}},[e("li",[a._v("使用 "),e("code",[a._v("^")]),a._v(" 来完成值交换")])]),a._v(" "),e("blockquote",[e("p",[a._v("目前推崇ES6解构赋值")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("// --- before ---\nlet temp = a; a = b; b = temp; // 传统方案\nb = [a, a = b][0] // 借助数组\n\n// --- after ---\nlet a = 7\nlet b = 1\na ^= b\nb ^= a\na ^= b\n\nconsole.log(a) // 1\nconsole.log(b) // 7\n\n[a, b] = [b, a] // ES6， 解构赋值\n")])])]),e("ol",{attrs:{start:"7"}},[e("li",[a._v("使用 "),e("code",[a._v("^")]),a._v(" 判断符号是否相同（正负数）\n(a ^ b) >= 0; // true 相同； false 不相同")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("(-1 ^ 11) >= 0 // false\n(2 ^ 9) >= 0 // true\n")])])]),e("ol",{attrs:{start:"8"}},[e("li",[a._v("使用 ^ 来检查数字是否不相等")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("// --- before ---\nif(a !== 5) {...}\n\n// --- after ---\nif(a ^ 5) {...}\n")])])]),e("p",[a._v("9.使用 "),e("code",[a._v("n&(n-1) === 0")]),a._v(" 判断是否为2的整数幂")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var n = 24\nn & (n - 1) // 16 \n\nvar n = 64\nn & (n - 1) // 0\n")])])]),e("ol",{attrs:{start:"10"}},[e("li",[a._v("使用 "),e("code",[a._v("A + 0.5 | 0")]),a._v(" 来替代Math.round()")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var A = 24.7\nA + 0.5 | 0 // => 25\n\nvar A = -24.7\nA - 0.5 | 0 // => -25\n")])])]),e("ol",{attrs:{start:"11"}},[e("li",[a._v("使用 "),e("code",[a._v("toString(16)")]),a._v(" 取随机字符串")])]),a._v(" "),e("blockquote",[e("p",[a._v(".substring() 的第二个参数控制取多少位 (最多可取13位)")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('Math.random().toString(16).substring(2, 15);\n// => "a580e0b1817b"\n\nMath.random().toString(16).substring(2, 30);\n// => "9cbbd145aa5fc"\n')])])]),e("ol",{attrs:{start:"12"}},[e("li",[a._v("使用 "),e("code",[a._v("split(0)")])])]),a._v(" "),e("blockquote",[e("p",[a._v("使用数字来做为 split 的分隔条件可以节省2字节")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('// --- before ---\n"alpha,bravo,charlie".split(",");\n\n// --- after ---\n"alpha0bravo0charlie".split(0);\n')])])]),e("ol",{attrs:{start:"13"}},[e("li",[a._v("使用 "),e("code",[a._v(".link()")]),a._v(" 创建链接")])]),a._v(" "),e("blockquote",[e("p",[a._v("可以快速创建 a 标签")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("// --- before ---\nlet b = `<a herf=\"www.google.com\">google</a>`;\n\n// --- after ---\nlet b = 'google'.link('www.google.com');\n")])])]),e("ol",{attrs:{start:"14"}},[e("li",[a._v("使用 "),e("code",[a._v("Array")]),a._v(" 来重复字符")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('// --- before ---\nfor(let a = "", i = 7; i--;) a+=0\n\n// --- after ---\nlet b = Array(7).join(0); // "0000000"\nlet c = Array(7).join(\'La\') // "LaLaLaLaLaLa"\n\n// ES6\nlet d = "0".repeat(7); // "0000000"\n')])])]),e("ol",{attrs:{start:"15"}},[e("li",[a._v("使用当前时间创建一个随机数")])]),a._v(" "),e("blockquote",[e("p",[a._v("不要在快速循环中使用，因为毫秒可能没有变化；")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("// --- before ---\nlet b = 0 | Math.random() * 100\n\n// --- after ---\nlet a;\na = new Date % 100; // 两位随机数\na = new Date % 1000; // 三位随机数\na = new Date % 10000; // 四位随机数...依次类推\n")])])]),e("ol",{attrs:{start:"16"}},[e("li",[a._v("一些可以代替 "),e("code",[a._v("undefined")]),a._v(" 的操作")])]),a._v(" "),e("ul",[e("li",[a._v('"".'),e("em",[a._v(", 1..")]),a._v(" 和 0[0]")]),a._v(" "),e("li",[a._v("void 0 // => 推崇")])]),a._v(" "),e("ol",{attrs:{start:"17"}},[e("li",[a._v("使用 "),e("code",[a._v("1/0")]),a._v(" 来代替 "),e("code",[a._v("Infinity")])])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("// --- before ---\n[Infinity, -Infinity]\n\n// --- after ---\n[1/0, -1/0]\n")])])]),e("ol",{attrs:{start:"18"}},[e("li",[a._v("使用 "),e("code",[a._v("Array.length = 0")]),a._v(" 来清空数组")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("let arr = [1, 2, 3]\narr.length = 0\n\narr // => []\n")])])]),e("ol",{attrs:{start:"19"}},[e("li",[a._v("使用 "),e("code",[a._v("Array.slice(0)")]),a._v(" 实现数组浅拷贝")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("let arr = [0, 1, 2, 3]\n\narr.slice(0) // => [0, 1, 2, 3]\n")])])]),e("ol",{attrs:{start:"20"}},[e("li",[a._v("使用 "),e("code",[a._v('!+"\\v1"')]),a._v(" 快速判断 IE8 以下的浏览器")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('var isIE8 = !+"\\v1" \n\n// Chrome false\n// IE9(10, 11) false\n// IE8(7, 6, 5) true\n')])])]),e("ol",{attrs:{start:"21"}},[e("li",[a._v("for循环条件的简写")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("// --- before ---\nfor(let i = 0; i < arr.length; i++) {...}\n\n// --- after ---\nfor(let i = arr.length; i--;) {...} // 注意 i--后面的分号不可漏\n")])])]),e("h4",{attrs:{id:"参考文献"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文献","aria-hidden":"true"}},[a._v("#")]),a._v(" 参考文献")]),a._v(" "),e("ul",[e("li",[a._v("[1]布拉德特皮. "),e("a",{attrs:{href:"https://juejin.im/post/5e044eb5f265da33b50748c8#heading-3",target:"_blank",rel:"noopener noreferrer"}},[a._v("JavaScript 那些写出来会被同事揍的骚操作"),e("OutboundLink")],1),a._v("[OL] 掘金")])])])}),[],!1,null,null,null);t.default=l.exports}}]);