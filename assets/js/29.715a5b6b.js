(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{309:function(e,t,n){"use strict";n.r(t);var a=n(9),v=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"vue-源码的感悟-一"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-源码的感悟-一","aria-hidden":"true"}},[e._v("#")]),e._v(" Vue 源码的感悟(一)")]),e._v(" "),n("p",[e._v("最近在看 vue 源码，虽不能全知全解，亦不能畅通全文。但也略有收获，特在此记录下看 vue 源码中的感悟。")]),e._v(" "),n("h2",{attrs:{id:"init"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#init","aria-hidden":"true"}},[e._v("#")]),e._v(" init")]),e._v(" "),n("blockquote",[n("p",[e._v("源自"),n("code",[e._v("Vue")]),e._v("源码下 "),n("code",[e._v("src/core/instance/init.js")])])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("    // expose real self\n    vm._self = vm\n\n    // 初始化生命周期\n    initLifecycle(vm)\n\n    // 初始化事件\n    initEvents(vm)\n\n    // 初始化渲染器\n    initRender(vm)\n\n    // 执行beforeCreate生命周期\n    callHook(vm, 'beforeCreate')\n\n    // 初始化Inject\n    initInjections(vm) // resolve injections before data/props\n\n    //  初始化State\n    initState(vm)\n\n    // 初始化Provide\n    initProvide(vm) // resolve provide after data/props\n\n    // 执行create声明周期\n    callHook(vm, 'created')\n")])])]),n("ul",[n("li",[e._v("这段仅在"),n("code",[e._v("init")]),e._v("函数中定义了函数的执行顺序，将各自个逻辑交给各自函数执行，非常有效的解耦了，各自函数互不影响。维护时只需根据不同的场景处理不同的函数。")]),e._v(" "),n("li",[e._v("其次，将"),n("code",[e._v("vm")]),e._v("传递给每个函数，有效了传递了"),n("code",[e._v("new Vue()")]),e._v("这个实例，每个组件，虽由庞大的系统构成，但仍是同一个"),n("code",[e._v("vue")]),e._v("实例。")])]),e._v(" "),n("p",[e._v("ß")]),e._v(" "),n("h2",{attrs:{id:"object-create-null"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#object-create-null","aria-hidden":"true"}},[e._v("#")]),e._v(" Object.create(null)")]),e._v(" "),n("p",[n("code",[e._v("Vue")]),e._v(" 源码常用"),n("code",[e._v("Object.create(null)")]),e._v("来创建一个空对象，所以其实就有个疑惑了。"),n("br"),e._v("\n为什么不使用"),n("code",[e._v("var obj = {}")]),e._v("来创建新对象？")]),e._v(" "),n("blockquote",[n("p",[n("code",[e._v("var obj = {}")]),e._v(" 会包含Object原型链上的一些方法，比如"),n("code",[e._v("toString")]),e._v("、"),n("code",[e._v("hasOwnProperty")]),e._v("等 , 而Object.create(null) 相当于把null设为原型，故将是一个干净的对象，不包含其他原型方法。")])]),e._v(" "),n("h2",{attrs:{id:""}},[n("a",{staticClass:"header-anchor",attrs:{href:"#","aria-hidden":"true"}},[e._v("#")])]),e._v(" "),n("Valine")],1)}),[],!1,null,null,null);t.default=v.exports}}]);