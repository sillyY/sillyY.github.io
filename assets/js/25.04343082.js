(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{308:function(e,r,t){"use strict";t.r(r);var n=t(9),s=Object(n.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"常用方法封装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用方法封装","aria-hidden":"true"}},[e._v("#")]),e._v(" 常用方法封装")]),e._v(" "),t("p",[e._v("Node提供了大量的API，但其中某些API并不能直接满足我们个人需求。虽然NPM存在别人封装好的库，但大部分实现比较好的库都存在大量的方法。某些时候，我们仅仅只需要其中的一种，故没有必要去引用库。")]),e._v(" "),t("p",[e._v("故在此记录常见的一些方法，持续更新中...")]),e._v(" "),t("h2",{attrs:{id:"创建文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建文件","aria-hidden":"true"}},[e._v("#")]),e._v(" 创建文件")]),e._v(" "),t("p",[e._v("创建文件时，如果文件路径中存在未创建的路径，则会造成文件创建失败。")]),e._v(" "),t("p",[e._v("比如： 创建"),t("code",[e._v("src/index.js")]),e._v("时,如果此时src文件夹目录不存在，则会抛出"),t("code",[e._v("no such file or directory, open 'src/index.js'")])]),e._v(" "),t("p",[e._v("👉解决方案：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const mkdirp = require('mkdirp');\nconst getDirName = require('path').dirname;\n\nconst writeFile = (path, contents) => {\n  return new Promise((resolve, reject) => {\n    mkdirp(getDirName(path), function (err) {\n      if (err) return reject(err);\n      fs.writeFile(path, contents, (err) => {\n        err ? reject(err) : resolve()\n      });\n    });\n  })\n}\n")])])]),t("Valine")],1)}),[],!1,null,null,null);r.default=s.exports}}]);